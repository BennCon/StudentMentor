<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Project</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.12.3/application.js' type='text/javascript'></script>
    <link href='./assets/0.12.3/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="shortcut icon" type="image/png" href="./assets/0.12.3/favicon_yellow.png" />
    <link rel="icon" type="image/png" href="./assets/0.12.3/favicon.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.12.3/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2021-05-09T20:45:05+00:00">2021-05-09T20:45:05+00:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="yellow">
  88.13%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         10.46
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>28</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>539</b> relevant lines,
    <span class="green"><b>475</b> lines covered</span> and
    <span class="red"><b>64</b> lines missed. </span>
    (<span class="yellow">
  88.13%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#456e49b74f582d29d78cb6ee4e0ac2207a15aff8" class="src_link" title="app.rb">app.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">19</td>
            <td class="cell--number">10</td>
            <td class="cell--number">10</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#fc6d64171d4dffb88965387e1b6527cad04450ea" class="src_link" title="controllers/admin_form.rb">controllers/admin_form.rb</a></td>
            <td class="green strong cell--number t-file__coverage">95.00 %</td>
            <td class="cell--number">34</td>
            <td class="cell--number">20</td>
            <td class="cell--number">19</td>
            <td class="cell--number">1</td>
            <td class="cell--number">7.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f719287d437cc6c4507e207a55f23bc865be4069" class="src_link" title="controllers/all-mentees.rb">controllers/all-mentees.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">7</td>
            <td class="cell--number">5</td>
            <td class="cell--number">5</td>
            <td class="cell--number">0</td>
            <td class="cell--number">5.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a2c18ca5439f608188b3d4096d5a67df25a27b57" class="src_link" title="controllers/all-mentors.rb">controllers/all-mentors.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">7</td>
            <td class="cell--number">5</td>
            <td class="cell--number">5</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.80</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#49348164d4508942ff6988e8c228d44b45cc6c78" class="src_link" title="controllers/change-password.rb">controllers/change-password.rb</a></td>
            <td class="red strong cell--number t-file__coverage">60.87 %</td>
            <td class="cell--number">33</td>
            <td class="cell--number">23</td>
            <td class="cell--number">14</td>
            <td class="cell--number">9</td>
            <td class="cell--number">1.83</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#ecddaa601ee68f5e2c95638947a38a884e044b03" class="src_link" title="controllers/find_mentor.rb">controllers/find_mentor.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">70</td>
            <td class="cell--number">42</td>
            <td class="cell--number">42</td>
            <td class="cell--number">0</td>
            <td class="cell--number">10.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#381778fa000f4044d7334655ca7df74c383a91d4" class="src_link" title="controllers/get_help_mentee.rb">controllers/get_help_mentee.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">11</td>
            <td class="cell--number">8</td>
            <td class="cell--number">8</td>
            <td class="cell--number">0</td>
            <td class="cell--number">3.63</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#2a0aa65d9d678d97385fbe5b97055e9c65de69c5" class="src_link" title="controllers/get_help_mentor.rb">controllers/get_help_mentor.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">11</td>
            <td class="cell--number">8</td>
            <td class="cell--number">8</td>
            <td class="cell--number">0</td>
            <td class="cell--number">3.63</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#57b7b862cc177717a2008258d28c41c2e82f3d93" class="src_link" title="controllers/help_users.rb">controllers/help_users.rb</a></td>
            <td class="green strong cell--number t-file__coverage">92.86 %</td>
            <td class="cell--number">21</td>
            <td class="cell--number">14</td>
            <td class="cell--number">13</td>
            <td class="cell--number">1</td>
            <td class="cell--number">3.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#02fa2764caecaaac45f8b9eab5e70deb59e05ea0" class="src_link" title="controllers/index.rb">controllers/index.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">37</td>
            <td class="cell--number">26</td>
            <td class="cell--number">26</td>
            <td class="cell--number">0</td>
            <td class="cell--number">31.85</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d2d7be191ea3be526d56a09cb99ac8b59c393b11" class="src_link" title="controllers/mentee_form.rb">controllers/mentee_form.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">32</td>
            <td class="cell--number">23</td>
            <td class="cell--number">23</td>
            <td class="cell--number">0</td>
            <td class="cell--number">14.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8381d0fcc5ac60d7d8fde1f4da486e303aa6b5bd" class="src_link" title="controllers/mentor_form.rb">controllers/mentor_form.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">30</td>
            <td class="cell--number">21</td>
            <td class="cell--number">21</td>
            <td class="cell--number">0</td>
            <td class="cell--number">11.29</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#47d61afc0e8a8a382814152451f052b67991adee" class="src_link" title="controllers/my_account_admin.rb">controllers/my_account_admin.rb</a></td>
            <td class="green strong cell--number t-file__coverage">93.75 %</td>
            <td class="cell--number">23</td>
            <td class="cell--number">16</td>
            <td class="cell--number">15</td>
            <td class="cell--number">1</td>
            <td class="cell--number">3.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f95839c9fe6b2ea9f7b93677e15b65c2bf279ceb" class="src_link" title="controllers/my_account_mentee.rb">controllers/my_account_mentee.rb</a></td>
            <td class="green strong cell--number t-file__coverage">93.75 %</td>
            <td class="cell--number">23</td>
            <td class="cell--number">16</td>
            <td class="cell--number">15</td>
            <td class="cell--number">1</td>
            <td class="cell--number">9.63</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#15d52eb443d4c072d9fa73eaff3dd26ebb653ae9" class="src_link" title="controllers/my_account_mentor.rb">controllers/my_account_mentor.rb</a></td>
            <td class="green strong cell--number t-file__coverage">93.75 %</td>
            <td class="cell--number">22</td>
            <td class="cell--number">16</td>
            <td class="cell--number">15</td>
            <td class="cell--number">1</td>
            <td class="cell--number">4.75</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#98b0f238afd0e07b8a396c25c4b4114a5099790b" class="src_link" title="controllers/requests_mentee.rb">controllers/requests_mentee.rb</a></td>
            <td class="red strong cell--number t-file__coverage">48.48 %</td>
            <td class="cell--number">47</td>
            <td class="cell--number">33</td>
            <td class="cell--number">16</td>
            <td class="cell--number">17</td>
            <td class="cell--number">1.42</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5a30f5d645d5f3d3bab89ac3a9c096d31b183eeb" class="src_link" title="controllers/requests_mentor.rb">controllers/requests_mentor.rb</a></td>
            <td class="red strong cell--number t-file__coverage">72.13 %</td>
            <td class="cell--number">94</td>
            <td class="cell--number">61</td>
            <td class="cell--number">44</td>
            <td class="cell--number">17</td>
            <td class="cell--number">2.61</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b40577df0dc0b663158bcc1fd8abf99e9e36091d" class="src_link" title="controllers/success-request.rb">controllers/success-request.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">3.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#ff462be866e064ecd5638a5265b76f0aec049b15" class="src_link" title="controllers/success.rb">controllers/success.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">15.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#9d34b8bce7b4257e94e56537e91cf6b313e48c9f" class="src_link" title="db/db.rb">db/db.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">22</td>
            <td class="cell--number">9</td>
            <td class="cell--number">9</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#967787631e2d03bfca1fe942c939b55212541bc3" class="src_link" title="helpers/validation.rb">helpers/validation.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">26</td>
            <td class="cell--number">14</td>
            <td class="cell--number">14</td>
            <td class="cell--number">0</td>
            <td class="cell--number">29.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d2effabf5cd4d11b1a262633d416450d0121875a" class="src_link" title="models/admin.rb">models/admin.rb</a></td>
            <td class="red strong cell--number t-file__coverage">73.91 %</td>
            <td class="cell--number">68</td>
            <td class="cell--number">46</td>
            <td class="cell--number">34</td>
            <td class="cell--number">12</td>
            <td class="cell--number">5.24</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#2dd0ff72e9fcadc87811fbe85d7ed2ac4b2f7659" class="src_link" title="models/code.rb">models/code.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">2</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#3b1b5782f29e1dd74653c13b602f5e3cf4ba2046" class="src_link" title="models/faq.rb">models/faq.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">7</td>
            <td class="cell--number">5</td>
            <td class="cell--number">5</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.60</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8fbdfad8312e01b880c39813fff4c69bb16cd124" class="src_link" title="models/mentee.rb">models/mentee.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">56</td>
            <td class="cell--number">41</td>
            <td class="cell--number">41</td>
            <td class="cell--number">0</td>
            <td class="cell--number">17.37</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4b2afc72060eeec2bad5b70b82232dd2c3ffda25" class="src_link" title="models/mentor.rb">models/mentor.rb</a></td>
            <td class="green strong cell--number t-file__coverage">97.62 %</td>
            <td class="cell--number">58</td>
            <td class="cell--number">42</td>
            <td class="cell--number">41</td>
            <td class="cell--number">1</td>
            <td class="cell--number">11.88</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#344fff55ca2e295b1f9a7f0aa43048f85483bad3" class="src_link" title="models/request.rb">models/request.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">2</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#0d15905f113e32a9ed6e64ef6d2745f652d90131" class="src_link" title="models/user.rb">models/user.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">89.66 %</td>
            <td class="cell--number">48</td>
            <td class="cell--number">29</td>
            <td class="cell--number">26</td>
            <td class="cell--number">3</td>
            <td class="cell--number">37.10</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/simplecov-ruby/simplecov">simplecov</a> v0.21.2
        and simplecov-html v0.12.3<br/>
        using RSpec
      </div>

      <div class="source_files">
      
        <div class="source_table" id="456e49b74f582d29d78cb6ee4e0ac2207a15aff8">
  <div class="header">
    <h3>app.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>10</b> relevant lines.
      <span class="green"><b>10</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;require_all&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;sinatra&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">set :bind, &#39;0.0.0.0&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"># So we can escape HTML special characters in the view</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">include ERB::Util</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"># Sessions</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">enable :sessions</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">set :session_secret, &quot;$g]Rd2M/WbJ`~~&lt;GZWdH@Fm&#39;ESk2_gckCtLJJkySYG&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"># Database</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &quot;db/db&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"># App</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_rel &quot;models&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_rel &quot;controllers&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_rel &quot;helpers/validation&quot;</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="fc6d64171d4dffb88965387e1b6527cad04450ea">
  <div class="header">
    <h3>controllers/admin_form.rb</h3>
    <h4>
      <span class="green">
  95.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>20</b> relevant lines.
      <span class="green"><b>19</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/admin-form&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="2">
            <span class="hits">11</span>
            

            

            <code class="ruby">   @user = User.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="3">
            <span class="hits">11</span>
            

            

            <code class="ruby">   @admin = Admin.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="4">
            <span class="hits">11</span>
            

            

            <code class="ruby">   @not_valid = &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="5">
            <span class="hits">11</span>
            

            

            <code class="ruby">   erb :admin_form</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/admin-form&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">   #Creates instances of both for the 2 databases</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="10">
            <span class="hits">8</span>
            

            

            <code class="ruby">   @user = User.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="11">
            <span class="hits">8</span>
            

            

            <code class="ruby">   @admin = Admin.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="13">
            <span class="hits">8</span>
            

            

            <code class="ruby">   @user.load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="14">
            <span class="hits">8</span>
            

            

            <code class="ruby">   @admin.load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="15">
            <span class="hits">8</span>
            

            

            <code class="ruby">   @user.user_type = &quot;admin&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">#   Checks if admin code is valid</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="18">
            <span class="hits">8</span>
            

            

            <code class="ruby">   if @admin.valid?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">#      if @admin.valid_code?(@admin.admin_code)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="20">
            <span class="hits">8</span>
            

            

            <code class="ruby">        @user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="21">
            <span class="hits">8</span>
            

            

            <code class="ruby">        @admin.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="23">
            <span class="hits">8</span>
            

            

            <code class="ruby">        id = @user.id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="24">
            <span class="hits">8</span>
            

            

            <code class="ruby">        @admin.id = id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="26">
            <span class="hits">8</span>
            

            

            <code class="ruby">        @user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="27">
            <span class="hits">8</span>
            

            

            <code class="ruby">        @admin.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="28">
            <span class="hits">8</span>
            

            

            <code class="ruby">        redirect &quot;/success&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">#      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">   #Refreshes page if invalid</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="33">
            
            

            

            <code class="ruby">   erb :admin_form</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f719287d437cc6c4507e207a55f23bc865be4069">
  <div class="header">
    <h3>controllers/all-mentees.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>5</b> relevant lines.
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/all-mentees&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="2">
            <span class="hits">6</span>
            

            

            <code class="ruby">  redirect &quot;/&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="3">
            <span class="hits">6</span>
            

            

            <code class="ruby">  id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="4">
            <span class="hits">6</span>
            

            

            <code class="ruby">  @mentees = Mentee.all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="6">
            <span class="hits">6</span>
            

            

            <code class="ruby">  erb :all_mentees</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a2c18ca5439f608188b3d4096d5a67df25a27b57">
  <div class="header">
    <h3>controllers/all-mentors.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>5</b> relevant lines.
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/all-mentors&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="2">
            <span class="hits">2</span>
            

            

            <code class="ruby">  redirect &quot;/&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="3">
            <span class="hits">2</span>
            

            

            <code class="ruby">  id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="4">
            <span class="hits">2</span>
            

            

            <code class="ruby">  @mentors = Mentor.all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="6">
            <span class="hits">2</span>
            

            

            <code class="ruby">  erb :all_mentors</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="49348164d4508942ff6988e8c228d44b45cc6c78">
  <div class="header">
    <h3>controllers/change-password.rb</h3>
    <h4>
      <span class="red">
  60.87%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>23</b> relevant lines.
      <span class="green"><b>14</b> lines covered</span> and
      <span class="red"><b>9</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/change-password&quot; do </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">       </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="3">
            <span class="hits">5</span>
            

            

            <code class="ruby">   user_data = Hash.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="4">
            <span class="hits">5</span>
            

            

            <code class="ruby">   user_data[&quot;id&quot;] = params.fetch(&quot;id&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="5">
            <span class="hits">5</span>
            

            

            <code class="ruby">   id = user_data[&quot;id&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="6">
            <span class="hits">5</span>
            

            

            <code class="ruby">   user_data[&quot;password&quot;] = params.fetch(&quot;password&quot;, &quot;&quot;).strip </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="7">
            <span class="hits">5</span>
            

            

            <code class="ruby">   password = user_data[&quot;password&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="10">
            <span class="hits">5</span>
            

            

            <code class="ruby">   user = User[id] if User.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="12">
            <span class="hits">5</span>
            

            

            <code class="ruby">   if user[:user_type] == &quot;mentee&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">        mentee = Mentee[id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">        mentee.load_passw_change(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">        user.load_passw_change(params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">        mentee.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">        user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">        redirect &quot;/all-mentees&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">        erb :all_mentees</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">   if user[:user_type] == &quot;mentor&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="24">
            
            

            

            <code class="ruby">        mentor = Mentor[id]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="25">
            
            

            

            <code class="ruby">        mentor.load_passw_change(params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">        user.load_passw_change(params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">        mentor.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">        user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">        redirect &quot;/all-mentors&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">        erb :all_mentors</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">   end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="ecddaa601ee68f5e2c95638947a38a884e044b03">
  <div class="header">
    <h3>controllers/find_mentor.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>42</b> relevant lines.
      <span class="green"><b>42</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/find-mentor&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="2">
            <span class="hits">17</span>
            

            

            <code class="ruby">   redirect &quot;/index&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="3">
            <span class="hits">17</span>
            

            

            <code class="ruby">   id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="4">
            <span class="hits">17</span>
            

            

            <code class="ruby">   @mentee = Mentee[id] if Mentee.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="5">
            <span class="hits">17</span>
            

            

            <code class="ruby">   @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">   #For filtering mentors</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="8">
            <span class="hits">17</span>
            

            

            <code class="ruby">   filters = Hash.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="9">
            <span class="hits">17</span>
            

            

            <code class="ruby">   filters[&quot;gender&quot;] = params.fetch(&quot;gender&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="10">
            <span class="hits">17</span>
            

            

            <code class="ruby">   filters[&quot;industry&quot;] = params.fetch(&quot;industry&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="11">
            <span class="hits">17</span>
            

            

            <code class="ruby">   filters[&quot;degree_field&quot;] = params.fetch(&quot;degree_field&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="12">
            <span class="hits">17</span>
            

            

            <code class="ruby">   filters[&quot;sheffield_graduate&quot;] = params.fetch(&quot;sheffield_graduate&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="14">
            <span class="hits">17</span>
            

            

            <code class="ruby">   @mentors = DB[:mentors]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="16">
            <span class="hits">17</span>
            

            

            <code class="ruby">   @requests = DB[:requests].where(mentee_id: id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="17">
            <span class="hits">17</span>
            

            

            <code class="ruby">   @already_req = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="18">
            <span class="hits">17</span>
            

            

            <code class="ruby">   @requests.each do |request|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @already_req &lt;&lt; request[:mentor_id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="22">
            <span class="hits">17</span>
            

            

            <code class="ruby">   filters.each do |filter, value|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="68" data-linenumber="23">
            <span class="hits">68</span>
            

            

            <code class="ruby">      @mentors = @mentors.where(Sequel.like(:&quot;#{filter}&quot;, &quot;#{value}%&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="28">
            <span class="hits">17</span>
            

            

            <code class="ruby">  erb :find_mentor</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/runMethod&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="32">
            <span class="hits">5</span>
            

            

            <code class="ruby">   requests_db = DB[:requests]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="33">
            <span class="hits">5</span>
            

            

            <code class="ruby">   id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="35">
            <span class="hits">5</span>
            

            

            <code class="ruby">   mentor = Hash.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="36">
            <span class="hits">5</span>
            

            

            <code class="ruby">   mentor[&quot;mentorId&quot;] = params.fetch(&quot;mentorId&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="37">
            <span class="hits">5</span>
            

            

            <code class="ruby">   mentor_id = mentor[&quot;mentorId&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="39">
            <span class="hits">5</span>
            

            

            <code class="ruby">   mentee = Mentee[id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="40">
            <span class="hits">5</span>
            

            

            <code class="ruby">   mentee[:has_contacted] = 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="41">
            <span class="hits">5</span>
            

            

            <code class="ruby">   mentee.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="43">
            <span class="hits">5</span>
            

            

            <code class="ruby">   request = Request.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="44">
            <span class="hits">5</span>
            

            

            <code class="ruby">   request.mentee_id = id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="45">
            <span class="hits">5</span>
            

            

            <code class="ruby">   request.mentor_id = mentor_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="46">
            <span class="hits">5</span>
            

            

            <code class="ruby">   request.accepted = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="47">
            <span class="hits">5</span>
            

            

            <code class="ruby">   request.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="49">
            <span class="hits">5</span>
            

            

            <code class="ruby">   require &quot;net/http&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="51">
            <span class="hits">5</span>
            

            

            <code class="ruby">    def send_mail(email, subject, body)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="52">
            <span class="hits">5</span>
            

            

            <code class="ruby">      response = Net::HTTP.post_form(URI(&quot;http://www.dcs.shef.ac.uk/cgi-intranet/public/FormMail.php&quot;),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">                                     &quot;recipients&quot; =&gt; email,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">                                     &quot;subject&quot; =&gt; subject,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">                                     &quot;body&quot; =&gt; body)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="56">
            <span class="hits">5</span>
            

            

            <code class="ruby">      response.is_a? Net::HTTPSuccess</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="59">
            <span class="hits">5</span>
            

            

            <code class="ruby">    mentor[&quot;mentorEmail&quot;] = params.fetch(&quot;mentorId&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="60">
            <span class="hits">5</span>
            

            

            <code class="ruby">    email = mentor[&quot;mentorEmail&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="62">
            <span class="hits">5</span>
            

            

            <code class="ruby">    subject = &quot;New request&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="64">
            <span class="hits">5</span>
            

            

            <code class="ruby">    body = &quot;You have a new mentee request. Go check it on the website.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="67">
            <span class="hits">5</span>
            

            

            <code class="ruby">    send_mail(email, subject, body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="69">
            <span class="hits">5</span>
            

            

            <code class="ruby">   redirect &quot;/success-request&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="381778fa000f4044d7334655ca7df74c383a91d4">
  <div class="header">
    <h3>controllers/get_help_mentee.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>8</b> relevant lines.
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/get-help-mentee&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="2">
            <span class="hits">4</span>
            

            

            <code class="ruby">  redirect &quot;/index&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="3">
            <span class="hits">4</span>
            

            

            <code class="ruby">  id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="4">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @mentee = Mentee[id] if Mentee.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="5">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="7">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @faqs = Questions_answers.all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="8">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @admins = Admin.all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="10">
            <span class="hits">4</span>
            

            

            <code class="ruby">  erb :get_help_mentee</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="2a0aa65d9d678d97385fbe5b97055e9c65de69c5">
  <div class="header">
    <h3>controllers/get_help_mentor.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>8</b> relevant lines.
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/get-help-mentor&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="2">
            <span class="hits">4</span>
            

            

            <code class="ruby">  redirect &quot;/index&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="3">
            <span class="hits">4</span>
            

            

            <code class="ruby">  id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="4">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @mentee = Mentor[id] if Mentor.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="5">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="7">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @faqs = Questions_answers.all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="8">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @admins = Admin.all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="10">
            <span class="hits">4</span>
            

            

            <code class="ruby">  erb :get_help_mentee</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="57b7b862cc177717a2008258d28c41c2e82f3d93">
  <div class="header">
    <h3>controllers/help_users.rb</h3>
    <h4>
      <span class="green">
  92.86%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>14</b> relevant lines.
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/help-users&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="2">
            <span class="hits">5</span>
            

            

            <code class="ruby">  redirect &quot;/&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="3">
            <span class="hits">5</span>
            

            

            <code class="ruby">  id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="4">
            <span class="hits">5</span>
            

            

            <code class="ruby">  @admin = Admin[id] if Admin.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="5">
            <span class="hits">5</span>
            

            

            <code class="ruby">  @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="7">
            <span class="hits">5</span>
            

            

            <code class="ruby">  @faqs = Questions_answers.all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="9">
            <span class="hits">5</span>
            

            

            <code class="ruby">  erb :help_users</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/help-users&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="13">
            <span class="hits">2</span>
            

            

            <code class="ruby">   id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="14">
            <span class="hits">2</span>
            

            

            <code class="ruby">   faq = Questions_answers.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">   #Loads the q&amp;a</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="17">
            <span class="hits">2</span>
            

            

            <code class="ruby">   faq.load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="18">
            <span class="hits">2</span>
            

            

            <code class="ruby">   faq.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="19">
            <span class="hits">2</span>
            

            

            <code class="ruby">   redirect &quot;/help-users&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">   erb :help_users</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="02fa2764caecaaac45f8b9eab5e70deb59e05ea0">
  <div class="header">
    <h3>controllers/index.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>26</b> relevant lines.
      <span class="green"><b>26</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="52" data-linenumber="2">
            <span class="hits">52</span>
            

            

            <code class="ruby">  session.clear</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="52" data-linenumber="3">
            <span class="hits">52</span>
            

            

            <code class="ruby">  @user = User.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="52" data-linenumber="4">
            <span class="hits">52</span>
            

            

            <code class="ruby">  erb :index</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &#39;/&#39; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="8">
            <span class="hits">72</span>
            

            

            <code class="ruby">  @user = User.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="9">
            <span class="hits">72</span>
            

            

            <code class="ruby">  @user.load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="10">
            <span class="hits">72</span>
            

            

            <code class="ruby">  @error = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  #Checks if user is valid, sends them to the correct my-account page</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="72" data-linenumber="13">
            <span class="hits">72</span>
            

            

            <code class="ruby">  if @user.exist?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="49" data-linenumber="14">
            <span class="hits">49</span>
            

            

            <code class="ruby">    session[:logged_in] = true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="49" data-linenumber="15">
            <span class="hits">49</span>
            

            

            <code class="ruby">    if @user.get_type == &quot;admin&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="16">
            <span class="hits">7</span>
            

            

            <code class="ruby">       username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="17">
            <span class="hits">7</span>
            

            

            <code class="ruby">       @admin= Admin.where(Sequel.like(:username, &quot;%#{username}%&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="18">
            <span class="hits">7</span>
            

            

            <code class="ruby">       session[:id] = @admin.first.get_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="19">
            <span class="hits">7</span>
            

            

            <code class="ruby">       redirect &quot;/my-account-admin&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="42" data-linenumber="20">
            <span class="hits">42</span>
            

            

            <code class="ruby">    elsif @user.get_type == &quot;mentor&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="21">
            <span class="hits">14</span>
            

            

            <code class="ruby">       username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="22">
            <span class="hits">14</span>
            

            

            <code class="ruby">       @mentor = Mentor.where(Sequel.like(:username, &quot;%#{username}%&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="23">
            <span class="hits">14</span>
            

            

            <code class="ruby">       session[:id] = @mentor.first.get_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="24">
            <span class="hits">14</span>
            

            

            <code class="ruby">       redirect &quot;/my-account-mentor&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="26">
            <span class="hits">28</span>
            

            

            <code class="ruby">       username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="27">
            <span class="hits">28</span>
            

            

            <code class="ruby">       @mentee = Mentee.where(Sequel.like(:username, &quot;%#{username}%&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="28">
            <span class="hits">28</span>
            

            

            <code class="ruby">       session[:id] = @mentee.first.get_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="29">
            <span class="hits">28</span>
            

            

            <code class="ruby">       redirect &quot;/my-account-mentee&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">  else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="32">
            <span class="hits">23</span>
            

            

            <code class="ruby">    @error = &quot;Username/Password combination incorrect&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="35">
            <span class="hits">23</span>
            

            

            <code class="ruby">  erb :index</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d2d7be191ea3be526d56a09cb99ac8b59c393b11">
  <div class="header">
    <h3>controllers/mentee_form.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>23</b> relevant lines.
      <span class="green"><b>23</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/mentee-form&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="2">
            <span class="hits">19</span>
            

            

            <code class="ruby">   @user = User.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="3">
            <span class="hits">19</span>
            

            

            <code class="ruby">   @mentee = Mentee.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="19" data-linenumber="4">
            <span class="hits">19</span>
            

            

            <code class="ruby">   erb :mentee_form</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/mentee-form&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">   #Creates instances of both for the 2 databases</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="9">
            <span class="hits">20</span>
            

            

            <code class="ruby">   @user = User.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="10">
            <span class="hits">20</span>
            

            

            <code class="ruby">   @mentee = Mentee.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="12">
            <span class="hits">20</span>
            

            

            <code class="ruby">   @user.load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="13">
            <span class="hits">20</span>
            

            

            <code class="ruby">   @mentee.load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="15">
            <span class="hits">20</span>
            

            

            <code class="ruby">   if @mentee.valid?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="16">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @user.user_type = &quot;mentee&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="17">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="18">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @mentee.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="20">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @mentee.number_of_rejections = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="21">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @mentee.has_contacted = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="22">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @mentee.has_mentor = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="23">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @mentee.mentor_id = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="24">
            <span class="hits">13</span>
            

            

            <code class="ruby">      id = @user.id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="25">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @mentee.id = id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="27">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="28">
            <span class="hits">13</span>
            

            

            <code class="ruby">      @mentee.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="13" data-linenumber="29">
            <span class="hits">13</span>
            

            

            <code class="ruby">      redirect &quot;/success&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="31">
            <span class="hits">7</span>
            

            

            <code class="ruby">   erb :mentee_form</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8381d0fcc5ac60d7d8fde1f4da486e303aa6b5bd">
  <div class="header">
    <h3>controllers/mentor_form.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>21</b> relevant lines.
      <span class="green"><b>21</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/mentor-form&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="2">
            <span class="hits">14</span>
            

            

            <code class="ruby">   @user = User.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="3">
            <span class="hits">14</span>
            

            

            <code class="ruby">   @mentor = Mentor.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="4">
            <span class="hits">14</span>
            

            

            <code class="ruby">   erb :mentor_form</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/mentor-form&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">   #Creates instances of both for the 2 databases</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="9">
            <span class="hits">15</span>
            

            

            <code class="ruby">   @user = User.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="10">
            <span class="hits">15</span>
            

            

            <code class="ruby">   @mentor = Mentor.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="12">
            <span class="hits">15</span>
            

            

            <code class="ruby">   @user.load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="13">
            <span class="hits">15</span>
            

            

            <code class="ruby">   @mentor.load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="14">
            <span class="hits">15</span>
            

            

            <code class="ruby">   @user.user_type = &quot;mentor&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="16">
            <span class="hits">15</span>
            

            

            <code class="ruby">   if @mentor.valid?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="17">
            <span class="hits">11</span>
            

            

            <code class="ruby">      @user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="18">
            <span class="hits">11</span>
            

            

            <code class="ruby">      @mentor.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="20">
            <span class="hits">11</span>
            

            

            <code class="ruby">      @mentor.number_of_mentees = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="21">
            <span class="hits">11</span>
            

            

            <code class="ruby">      @mentor.seeking_mentee = 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="22">
            <span class="hits">11</span>
            

            

            <code class="ruby">      id = @user.id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="23">
            <span class="hits">11</span>
            

            

            <code class="ruby">      @mentor.id = id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="25">
            <span class="hits">11</span>
            

            

            <code class="ruby">      @user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="26">
            <span class="hits">11</span>
            

            

            <code class="ruby">      @mentor.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="27">
            <span class="hits">11</span>
            

            

            <code class="ruby">      redirect &quot;/success&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="29">
            <span class="hits">4</span>
            

            

            <code class="ruby">   erb :mentor_form</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="47d61afc0e8a8a382814152451f052b67991adee">
  <div class="header">
    <h3>controllers/my_account_admin.rb</h3>
    <h4>
      <span class="green">
  93.75%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>16</b> relevant lines.
      <span class="green"><b>15</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/my-account-admin&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="2">
            <span class="hits">6</span>
            

            

            <code class="ruby">  redirect &quot;/&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="3">
            <span class="hits">6</span>
            

            

            <code class="ruby">  id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="4">
            <span class="hits">6</span>
            

            

            <code class="ruby">  @admin = Admin[id] if Admin.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="5">
            <span class="hits">6</span>
            

            

            <code class="ruby">  @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="6">
            <span class="hits">6</span>
            

            

            <code class="ruby">  erb :my_account_admin</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/my-account-admin&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="10">
            <span class="hits">2</span>
            

            

            <code class="ruby">   id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="11">
            <span class="hits">2</span>
            

            

            <code class="ruby">   @admin = Admin[id] if Admin.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="12">
            <span class="hits">2</span>
            

            

            <code class="ruby">   @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">   #Lets users edit details</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="15">
            <span class="hits">2</span>
            

            

            <code class="ruby">   @admin.load_edit(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="16">
            <span class="hits">2</span>
            

            

            <code class="ruby">   @user.load_edit(params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="18">
            <span class="hits">2</span>
            

            

            <code class="ruby">   @admin.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="19">
            <span class="hits">2</span>
            

            

            <code class="ruby">   @user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="20">
            <span class="hits">2</span>
            

            

            <code class="ruby">   redirect &quot;/my-account-admin&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">   erb :my_account_admin</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f95839c9fe6b2ea9f7b93677e15b65c2bf279ceb">
  <div class="header">
    <h3>controllers/my_account_mentee.rb</h3>
    <h4>
      <span class="green">
  93.75%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>16</b> relevant lines.
      <span class="green"><b>15</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/my-account-mentee&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="2">
            <span class="hits">24</span>
            

            

            <code class="ruby">  redirect &quot;/&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="3">
            <span class="hits">24</span>
            

            

            <code class="ruby">  id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="4">
            <span class="hits">24</span>
            

            

            <code class="ruby">  @mentee = Mentee[id] if Mentee.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="5">
            <span class="hits">24</span>
            

            

            <code class="ruby">  @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="6">
            <span class="hits">24</span>
            

            

            <code class="ruby">  erb :my_account_mentee</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/my-account-mentee&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="10">
            <span class="hits">4</span>
            

            

            <code class="ruby">   id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="11">
            <span class="hits">4</span>
            

            

            <code class="ruby">   @mentee = Mentee[id] if Mentee.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="12">
            <span class="hits">4</span>
            

            

            <code class="ruby">   @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">   #Lets users edit details</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="15">
            <span class="hits">4</span>
            

            

            <code class="ruby">   @mentee.load_edit(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="16">
            <span class="hits">4</span>
            

            

            <code class="ruby">   @user.load_edit(params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="18">
            <span class="hits">4</span>
            

            

            <code class="ruby">   @mentee.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="19">
            <span class="hits">4</span>
            

            

            <code class="ruby">   @user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="20">
            <span class="hits">4</span>
            

            

            <code class="ruby">   redirect &quot;/my-account-mentee&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">   erb :my_account_mentee</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="15d52eb443d4c072d9fa73eaff3dd26ebb653ae9">
  <div class="header">
    <h3>controllers/my_account_mentor.rb</h3>
    <h4>
      <span class="green">
  93.75%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>16</b> relevant lines.
      <span class="green"><b>15</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/my-account-mentor&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="2">
            <span class="hits">10</span>
            

            

            <code class="ruby">  redirect &quot;/&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="3">
            <span class="hits">10</span>
            

            

            <code class="ruby">  id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="4">
            <span class="hits">10</span>
            

            

            <code class="ruby">  @mentor = Mentor[id] if Mentor.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="5">
            <span class="hits">10</span>
            

            

            <code class="ruby">  @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="6">
            <span class="hits">10</span>
            

            

            <code class="ruby">  erb :my_account_mentor</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/my-account-mentor&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="10">
            <span class="hits">3</span>
            

            

            <code class="ruby">    id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="11">
            <span class="hits">3</span>
            

            

            <code class="ruby">    @mentor = Mentor[id] if Mentor.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="12">
            <span class="hits">3</span>
            

            

            <code class="ruby">    @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    #Lets users edit details</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="15">
            <span class="hits">3</span>
            

            

            <code class="ruby">    @mentor.load_edit(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="16">
            <span class="hits">3</span>
            

            

            <code class="ruby">    @user.load_edit(params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="18">
            <span class="hits">3</span>
            

            

            <code class="ruby">    @mentor.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="19">
            <span class="hits">3</span>
            

            

            <code class="ruby">    @user.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="20">
            <span class="hits">3</span>
            

            

            <code class="ruby">    redirect &quot;/my-account-mentor&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">    erb :my_account_mentor</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="98b0f238afd0e07b8a396c25c4b4114a5099790b">
  <div class="header">
    <h3>controllers/requests_mentee.rb</h3>
    <h4>
      <span class="red">
  48.48%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>33</b> relevant lines.
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>17</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/requests-mentee&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="2">
            <span class="hits">4</span>
            

            

            <code class="ruby">  redirect &quot;/index&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="3">
            <span class="hits">4</span>
            

            

            <code class="ruby">  id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="4">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @mentee = Mentee[id] if Mentee.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="5">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="7">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @requests = DB[:requests].where(mentee_id: id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="8">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @mentors = DB[:mentors] </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="10">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @mentor_req_ids = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="11">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @mentor_accepted_ids = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="12">
            <span class="hits">4</span>
            

            

            <code class="ruby">  @requests.each do |request|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="13">
            <span class="hits">2</span>
            

            

            <code class="ruby">     if request[:accepted] == 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @mentor_req_ids &lt;&lt; request[:mentor_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">     elsif request[:accepted] == 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @mentor_accepted_ids &lt;&lt; request[:mentor_id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="20">
            <span class="hits">4</span>
            

            

            <code class="ruby">  erb :requests_mentee</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/deleteMethod&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="24">
            
            

            

            <code class="ruby">   id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="25">
            
            

            

            <code class="ruby">   mentee = Mentee[id]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">   mentee[:has_mentor] = 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">   mentee[:mentor_id] = 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">   mentee.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">   mentor = Hash.new</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">   mentor[&quot;mentorId&quot;] = params.fetch(&quot;mentorId&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="33">
            
            

            

            <code class="ruby">   mentor_id = mentor[&quot;mentorId&quot;].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">   mentor = Mentor[mentor_id]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="35">
            
            

            

            <code class="ruby">   mentor[:number_of_mentees] -= 1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">   mentor.save_changes(:validate =&gt; false) </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">   @requests = DB[:requests].where(mentee_id: id)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="39">
            
            

            

            <code class="ruby">   @requests.each do |request|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">      if request[:mentor_id] == mentor_id</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

            <code class="ruby">         request = Request[request[:id]]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="42">
            
            

            

            <code class="ruby">         request.delete</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">   redirect &quot;/requests-mentee&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5a30f5d645d5f3d3bab89ac3a9c096d31b183eeb">
  <div class="header">
    <h3>controllers/requests_mentor.rb</h3>
    <h4>
      <span class="red">
  72.13%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>61</b> relevant lines.
      <span class="green"><b>44</b> lines covered</span> and
      <span class="red"><b>17</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/requests-mentor&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="2">
            <span class="hits">7</span>
            

            

            <code class="ruby">  redirect &quot;/index&quot; unless session[:logged_in]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="3">
            <span class="hits">7</span>
            

            

            <code class="ruby">  id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="4">
            <span class="hits">7</span>
            

            

            <code class="ruby">  @mentor = Mentor[id] if Mentor.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="5">
            <span class="hits">7</span>
            

            

            <code class="ruby">  @user = User[id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="7">
            <span class="hits">7</span>
            

            

            <code class="ruby">  @requests = DB[:requests].where(mentor_id: id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="8">
            <span class="hits">7</span>
            

            

            <code class="ruby">  @mentees = DB[:mentees] </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="10">
            <span class="hits">7</span>
            

            

            <code class="ruby">  @mentee_req_ids = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="11">
            <span class="hits">7</span>
            

            

            <code class="ruby">  @mentee_accepted_ids = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="12">
            <span class="hits">7</span>
            

            

            <code class="ruby">  @requests.each do |request|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="13">
            <span class="hits">5</span>
            

            

            <code class="ruby">     if request[:accepted] == 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="14">
            <span class="hits">3</span>
            

            

            <code class="ruby">        @mentee_req_ids &lt;&lt; request[:mentee_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="15">
            <span class="hits">2</span>
            

            

            <code class="ruby">     elsif request[:accepted] == 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="16">
            <span class="hits">2</span>
            

            

            <code class="ruby">        @mentee_accepted_ids &lt;&lt; request[:mentee_id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">     end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="22">
            <span class="hits">7</span>
            

            

            <code class="ruby">  erb :requests_mentor</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/acceptMethod&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="26">
            <span class="hits">4</span>
            

            

            <code class="ruby">   id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="27">
            <span class="hits">4</span>
            

            

            <code class="ruby">   mentee = Hash.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="28">
            <span class="hits">4</span>
            

            

            <code class="ruby">   mentee[&quot;menteeId&quot;] = params.fetch(&quot;menteeId&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="29">
            <span class="hits">4</span>
            

            

            <code class="ruby">   mentee_id = mentee[&quot;menteeId&quot;].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="30">
            <span class="hits">4</span>
            

            

            <code class="ruby">   mentee = Mentee[mentee_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="31">
            <span class="hits">4</span>
            

            

            <code class="ruby">   mentee[:has_mentor] = 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="32">
            <span class="hits">4</span>
            

            

            <code class="ruby">   mentee[:mentor_id] = id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="33">
            <span class="hits">4</span>
            

            

            <code class="ruby">   mentee.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="35">
            <span class="hits">4</span>
            

            

            <code class="ruby">   mentor = Mentor[id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="36">
            <span class="hits">4</span>
            

            

            <code class="ruby">   mentor[:number_of_mentees] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="37">
            <span class="hits">2</span>
            

            

            <code class="ruby">   mentor.save_changes(:validate =&gt; false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="39">
            <span class="hits">2</span>
            

            

            <code class="ruby">   @requests = DB[:requests]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="40">
            <span class="hits">2</span>
            

            

            <code class="ruby">   @requests.each do |request|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="41">
            <span class="hits">2</span>
            

            

            <code class="ruby">      if request[:mentee_id] == mentee_id &amp;&amp; request[:mentor_id] == id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="42">
            <span class="hits">2</span>
            

            

            <code class="ruby">         request = Request[request[:id]]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="43">
            <span class="hits">2</span>
            

            

            <code class="ruby">         request[:accepted] = 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="44">
            <span class="hits">2</span>
            

            

            <code class="ruby">         request.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">      elsif request[:mentee_id] == mentee_id</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">         request = Request[request[:id]]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">         request.delete</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="51">
            <span class="hits">2</span>
            

            

            <code class="ruby">   require &quot;net/http&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="53">
            <span class="hits">2</span>
            

            

            <code class="ruby">    def send_mail(email, subject, body)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="54">
            <span class="hits">2</span>
            

            

            <code class="ruby">      response = Net::HTTP.post_form(URI(&quot;http://www.dcs.shef.ac.uk/cgi-intranet/public/FormMail.php&quot;),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">                                     &quot;recipients&quot; =&gt; email,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">                                     &quot;subject&quot; =&gt; subject,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">                                     &quot;body&quot; =&gt; body)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="58">
            <span class="hits">2</span>
            

            

            <code class="ruby">      response.is_a? Net::HTTPSuccess</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="61">
            <span class="hits">2</span>
            

            

            <code class="ruby">    mentee[&quot;menteeEmail&quot;] = params.fetch(&quot;menteeId&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="62">
            <span class="hits">2</span>
            

            

            <code class="ruby">    email = mentee[&quot;menteeEmail&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="64">
            <span class="hits">2</span>
            

            

            <code class="ruby">    subject = &quot;Accepted request&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="66">
            <span class="hits">2</span>
            

            

            <code class="ruby">    body = &quot;One of your requests was accepted. Go check it on the website.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="69">
            <span class="hits">2</span>
            

            

            <code class="ruby">    send_mail(email, subject, body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="71">
            <span class="hits">2</span>
            

            

            <code class="ruby">   redirect &quot;/requests-mentor&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">post &quot;/rejectMethod&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="75">
            
            

            

            <code class="ruby">   id = session[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="76">
            
            

            

            <code class="ruby">   mentee = Hash.new</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="77">
            
            

            

            <code class="ruby">   mentee[&quot;menteeId&quot;] = params.fetch(&quot;menteeId&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="78">
            
            

            

            <code class="ruby">   mentee_id = mentee[&quot;menteeId&quot;].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="79">
            
            

            

            <code class="ruby">   mentee = Mentee[mentee_id]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="80">
            
            

            

            <code class="ruby">   mentee[:number_of_rejections] += 1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="81">
            
            

            

            <code class="ruby">   mentee.save_changes(:validate =&gt; false) </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="83">
            
            

            

            <code class="ruby">   @requests = DB[:requests].where(mentor_id: id)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="84">
            
            

            

            <code class="ruby">   @requests.each do |request|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="85">
            
            

            

            <code class="ruby">      if request[:mentee_id] == mentee_id</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="86">
            
            

            

            <code class="ruby">         request = Request[request[:id]]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="87">
            
            

            

            <code class="ruby">         request[:accepted] = 2</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="88">
            
            

            

            <code class="ruby">         request.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">   redirect &quot;/requests-mentor&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="b40577df0dc0b663158bcc1fd8abf99e9e36091d">
  <div class="header">
    <h3>controllers/success-request.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>2</b> relevant lines.
      <span class="green"><b>2</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/success-request&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="3">
            <span class="hits">5</span>
            

            

            <code class="ruby">  erb :success_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="ff462be866e064ecd5638a5265b76f0aec049b15">
  <div class="header">
    <h3>controllers/success.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>2</b> relevant lines.
      <span class="green"><b>2</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">get &quot;/success&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30" data-linenumber="3">
            <span class="hits">30</span>
            

            

            <code class="ruby">  erb :success</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9d34b8bce7b4257e94e56537e91cf6b313e48c9f">
  <div class="header">
    <h3>db/db.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>9</b> relevant lines.
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;logger&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;sequel&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">#Allows switching test -&gt; production db</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">type = ENV.fetch(&quot;APP_ENV&quot;, &quot;test_db&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">#Finds the path to the database file</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">db_path = File.dirname(__FILE__)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">db = &quot;#{db_path}/#{type}.sqlite3&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">#Finds the path to the log</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">log_path = &quot;#{File.dirname(__FILE__)}/../log/&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">log = &quot;#{log_path}/#{type}.log&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">#Creates the log directory if it does not exist</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">Dir.mkdir(log_path) unless File.exist?(log_path)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">#Sets up the Sequel database instance</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">DB = Sequel.sqlite(db, logger: Logger.new(log))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="967787631e2d03bfca1fe942c939b55212541bc3">
  <div class="header">
    <h3>helpers/validation.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>14</b> relevant lines.
      <span class="green"><b>14</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">module Validation</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">   @users = DB[:users]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def self.email_reg?(str)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="52" data-linenumber="4">
            <span class="hits">52</span>
            

            

            <code class="ruby">      @users.each do |user|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="44" data-linenumber="5">
            <span class="hits">44</span>
            

            

            <code class="ruby">         if user[:email] == str</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="6">
            <span class="hits">11</span>
            

            

            <code class="ruby">            return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">         end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="41" data-linenumber="9">
            <span class="hits">41</span>
            

            

            <code class="ruby">      false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def self.username_reg?(str)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="52" data-linenumber="13">
            <span class="hits">52</span>
            

            

            <code class="ruby">      @users.each do |user|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="45" data-linenumber="14">
            <span class="hits">45</span>
            

            

            <code class="ruby">         if user[:username] == str</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="15">
            <span class="hits">10</span>
            

            

            <code class="ruby">            return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">         end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="42" data-linenumber="18">
            <span class="hits">42</span>
            

            

            <code class="ruby">      false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def self.contains_number?(str)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="104" data-linenumber="22">
            <span class="hits">104</span>
            

            

            <code class="ruby">        return str.count(&quot;0-9&quot;) &gt; 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">         </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d2effabf5cd4d11b1a262633d416450d0121875a">
  <div class="header">
    <h3>models/admin.rb</h3>
    <h4>
      <span class="red">
  73.91%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>46</b> relevant lines.
      <span class="green"><b>34</b> lines covered</span> and
      <span class="red"><b>12</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Admin &lt; Sequel::Model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="3">
            <span class="hits">8</span>
            

            

            <code class="ruby">        self.first_name = params.fetch(&quot;first_name&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="4">
            <span class="hits">8</span>
            

            

            <code class="ruby">        self.surname = params.fetch(&quot;surname&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="5">
            <span class="hits">8</span>
            

            

            <code class="ruby">        self.username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="6">
            <span class="hits">8</span>
            

            

            <code class="ruby">        self.admin_code = params.fetch(&quot;admin_code&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="7">
            <span class="hits">8</span>
            

            

            <code class="ruby">        self.email = params.fetch(&quot;email&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="8">
            <span class="hits">8</span>
            

            

            <code class="ruby">        self.password = params.fetch(&quot;password&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    #Different param set for editing after sign-up</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def load_edit(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="13">
            <span class="hits">2</span>
            

            

            <code class="ruby">        self.first_name = params.fetch(&quot;first_name&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="14">
            <span class="hits">2</span>
            

            

            <code class="ruby">        self.surname = params.fetch(&quot;surname&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="15">
            <span class="hits">2</span>
            

            

            <code class="ruby">        self.username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="16">
            <span class="hits">2</span>
            

            

            <code class="ruby">        self.email = params.fetch(&quot;email&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def validate</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="20">
            <span class="hits">11</span>
            

            

            <code class="ruby">      super</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="21">
            <span class="hits">11</span>
            

            

            <code class="ruby">      errors.add(&quot;first_name&quot;, &quot;cannot be empty&quot;) if !first_name || first_name.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="22">
            <span class="hits">11</span>
            

            

            <code class="ruby">      errors.add(&quot;first_name&quot;, &quot;cannot contain a number&quot;) if Validation.contains_number?(first_name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="23">
            <span class="hits">11</span>
            

            

            <code class="ruby">      errors.add(&quot;surname&quot;, &quot;cannot be empty&quot;) if !surname || surname.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="24">
            <span class="hits">11</span>
            

            

            <code class="ruby">      errors.add(&quot;surname&quot;, &quot;cannot contain a number&quot;) if Validation.contains_number?(surname)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="25">
            <span class="hits">11</span>
            

            

            <code class="ruby">      errors.add(&quot;username&quot;, &quot;cannot be empty&quot;) if !username || username.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="26">
            <span class="hits">11</span>
            

            

            <code class="ruby">      errors.add(&quot;email&quot;, &quot;cannot be empty&quot;) if !email || email.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="27">
            <span class="hits">11</span>
            

            

            <code class="ruby">      errors.add(&quot;password&quot;, &quot;cannot be empty&quot;) if !password || password.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="28">
            <span class="hits">11</span>
            

            

            <code class="ruby">      errors.add(&quot;password&quot;, &quot;must contain at least 5 characters&quot;) if (password.length &lt; 5)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="29">
            <span class="hits">11</span>
            

            

            <code class="ruby">      errors.add(&quot;email&quot;, &quot;is already registered to another account&quot;) if Validation.email_reg?(email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="30">
            <span class="hits">11</span>
            

            

            <code class="ruby">      errors.add(&quot;username&quot;, &quot;is already registered to another account&quot;) if Validation.username_reg?(username)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def load_passw_change(params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">        self.password = params.fetch(&quot;password&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def get_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="38">
            <span class="hits">8</span>
            

            

            <code class="ruby">        this_admin = Admin.first(username:username)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="39">
            <span class="hits">8</span>
            

            

            <code class="ruby">        return this_admin.id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    #Method for checking admin code </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def valid_code?(in_code)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">      @codesTable = DB[:codes]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">      match = false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">      (@codesTable).each do |code|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">         if ((in_code == code[:code]) &amp;&amp; (code[:used] == 0))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="48">
            
            

            

            <code class="ruby">            id = code[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

            <code class="ruby">            @code = Code[id]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="50">
            
            

            

            <code class="ruby">            @code.used = 1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="51">
            
            

            

            <code class="ruby">            @code.save_changes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="52">
            
            

            

            <code class="ruby">            match = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">            break</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">         end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="56">
            
            

            

            <code class="ruby">      return match</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="62">
            <span class="hits">14</span>
            

            

            <code class="ruby">        return false if id.nil? # check the id is not nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="63">
            <span class="hits">14</span>
            

            

            <code class="ruby">        return false if Admin[id].nil? # check the database has a record with this id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="65">
            <span class="hits">12</span>
            

            

            <code class="ruby">        true # all checks are ok - the id exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="2dd0ff72e9fcadc87811fbe85d7ed2ac4b2f7659">
  <div class="header">
    <h3>models/code.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Code &lt; Sequel::Model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="3b1b5782f29e1dd74653c13b602f5e3cf4ba2046">
  <div class="header">
    <h3>models/faq.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>5</b> relevant lines.
      <span class="green"><b>5</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Questions_answers &lt; Sequel::Model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="3">
            <span class="hits">2</span>
            

            

            <code class="ruby">        self.question = params.fetch(&quot;question&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="4">
            <span class="hits">2</span>
            

            

            <code class="ruby">        self.answer = params.fetch(&quot;answer&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="5">
            <span class="hits">2</span>
            

            

            <code class="ruby">        self.user_type = params.fetch(&quot;user_type&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8fbdfad8312e01b880c39813fff4c69bb16cd124">
  <div class="header">
    <h3>models/mentee.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>41</b> relevant lines.
      <span class="green"><b>41</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Mentee &lt; Sequel::Model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="3">
            <span class="hits">20</span>
            

            

            <code class="ruby">        self.first_name = params.fetch(&quot;first_name&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="4">
            <span class="hits">20</span>
            

            

            <code class="ruby">        self.surname = params.fetch(&quot;surname&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="5">
            <span class="hits">20</span>
            

            

            <code class="ruby">        self.username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="6">
            <span class="hits">20</span>
            

            

            <code class="ruby">        self.course = params.fetch(&quot;course&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="7">
            <span class="hits">20</span>
            

            

            <code class="ruby">        self.university = params.fetch(&quot;university&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="8">
            <span class="hits">20</span>
            

            

            <code class="ruby">        self.gender = params.fetch(&quot;gender&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="9">
            <span class="hits">20</span>
            

            

            <code class="ruby">        self.year_of_study = params.fetch(&quot;year_of_study&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="10">
            <span class="hits">20</span>
            

            

            <code class="ruby">        self.email = params.fetch(&quot;email&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20" data-linenumber="11">
            <span class="hits">20</span>
            

            

            <code class="ruby">        self.password = params.fetch(&quot;password&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">   #Different param set for editing after sign-up</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def load_edit(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="16">
            <span class="hits">4</span>
            

            

            <code class="ruby">      self.first_name = params.fetch(&quot;first_name&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="17">
            <span class="hits">4</span>
            

            

            <code class="ruby">      self.surname = params.fetch(&quot;surname&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="18">
            <span class="hits">4</span>
            

            

            <code class="ruby">      self.username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="19">
            <span class="hits">4</span>
            

            

            <code class="ruby">      self.year_of_study = params.fetch(&quot;year_of_study&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="20">
            <span class="hits">4</span>
            

            

            <code class="ruby">      self.biography = params.fetch(&quot;biography&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="21">
            <span class="hits">4</span>
            

            

            <code class="ruby">      self.course = params.fetch(&quot;course&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="22">
            <span class="hits">4</span>
            

            

            <code class="ruby">      self.email = params.fetch(&quot;email&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def load_passw_change(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">        self.password = params.fetch(&quot;password&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def validate</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="30">
            <span class="hits">23</span>
            

            

            <code class="ruby">      super</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="31">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;first_name&quot;, &quot;cannot be empty&quot;) if !first_name || first_name.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="32">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;first_name&quot;, &quot;cannot contain a number&quot;) if Validation.contains_number?(first_name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="33">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;surname&quot;, &quot;cannot be empty&quot;) if !surname || surname.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="34">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;surname&quot;, &quot;cannot contain a number&quot;) if Validation.contains_number?(surname)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="35">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;username&quot;, &quot;cannot be empty&quot;) if !username || username.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="36">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;course&quot;, &quot;cannot be empty&quot;) if !course || course.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="37">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;email&quot;, &quot;cannot be empty&quot;) if !email || email.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="38">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;password&quot;, &quot;cannot be empty&quot;) if !password || password.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="39">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;password&quot;, &quot;must contain at least 5 characters&quot;) if (password.length &lt; 5)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="40">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;email&quot;, &quot;is alrady registered to another account&quot;) if Validation.email_reg?(email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="41">
            <span class="hits">23</span>
            

            

            <code class="ruby">      errors.add(&quot;username&quot;, &quot;is already registered to another account&quot;) if Validation.username_reg?(username)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="54" data-linenumber="45">
            <span class="hits">54</span>
            

            

            <code class="ruby">        return false if id.nil? # check the id is not nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="54" data-linenumber="46">
            <span class="hits">54</span>
            

            

            <code class="ruby">        return false if Mentee[id].nil? # check the database has a record with this id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="54" data-linenumber="48">
            <span class="hits">54</span>
            

            

            <code class="ruby">        true # all checks are ok - the id exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def get_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="29" data-linenumber="53">
            <span class="hits">29</span>
            

            

            <code class="ruby">        this_mentee = Mentee.first(username:username)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="29" data-linenumber="54">
            <span class="hits">29</span>
            

            

            <code class="ruby">        return this_mentee.id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4b2afc72060eeec2bad5b70b82232dd2c3ffda25">
  <div class="header">
    <h3>models/mentor.rb</h3>
    <h4>
      <span class="green">
  97.62%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>42</b> relevant lines.
      <span class="green"><b>41</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Mentor &lt; Sequel::Model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="3">
            <span class="hits">15</span>
            

            

            <code class="ruby">        self.first_name = params.fetch(&quot;first_name&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="4">
            <span class="hits">15</span>
            

            

            <code class="ruby">        self.surname = params.fetch(&quot;surname&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="5">
            <span class="hits">15</span>
            

            

            <code class="ruby">        self.username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="6">
            <span class="hits">15</span>
            

            

            <code class="ruby">        self.gender = params.fetch(&quot;gender&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="7">
            <span class="hits">15</span>
            

            

            <code class="ruby">        self.industry = params.fetch(&quot;industry&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="8">
            <span class="hits">15</span>
            

            

            <code class="ruby">        self.company = params.fetch(&quot;company&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="9">
            <span class="hits">15</span>
            

            

            <code class="ruby">        self.sheffield_graduate = params.fetch(&quot;sheffield_graduate&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="10">
            <span class="hits">15</span>
            

            

            <code class="ruby">        self.degree_field = params.fetch(&quot;degree_field&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="11">
            <span class="hits">15</span>
            

            

            <code class="ruby">        self.email = params.fetch(&quot;email&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="12">
            <span class="hits">15</span>
            

            

            <code class="ruby">        self.password = params.fetch(&quot;password&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">   #Different param set for editing after sign-up</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def load_edit(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="17">
            <span class="hits">3</span>
            

            

            <code class="ruby">       self.email = params.fetch(&quot;email&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="18">
            <span class="hits">3</span>
            

            

            <code class="ruby">       self.first_name = params.fetch(&quot;first_name&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="19">
            <span class="hits">3</span>
            

            

            <code class="ruby">       self.surname = params.fetch(&quot;surname&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="20">
            <span class="hits">3</span>
            

            

            <code class="ruby">       self.username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="21">
            <span class="hits">3</span>
            

            

            <code class="ruby">       self.industry = params.fetch(&quot;industry&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="22">
            <span class="hits">3</span>
            

            

            <code class="ruby">       self.company = params.fetch(&quot;company&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="23">
            <span class="hits">3</span>
            

            

            <code class="ruby">       self.biography = params.fetch(&quot;biography&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def load_passw_change(params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">        self.password = params.fetch(&quot;password&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">   end   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def validate</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="32">
            <span class="hits">18</span>
            

            

            <code class="ruby">      super</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="33">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;first_name&quot;, &quot;cannot be empty&quot;) if !first_name || first_name.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="34">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;first_name&quot;, &quot;cannot contain a number&quot;) if Validation.contains_number?(first_name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="35">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;surname&quot;, &quot;cannot be empty&quot;) if !surname || surname.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="36">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;surname&quot;, &quot;cannot contain a number&quot;) if Validation.contains_number?(surname)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="37">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;username&quot;, &quot;cannot be empty&quot;) if !username || username.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="38">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;company&quot;, &quot;cannot be empty&quot;) if !company || company.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="39">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;email&quot;, &quot;cannot be empty&quot;) if !email || email.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="40">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;password&quot;, &quot;cannot be empty&quot;) if !password || password.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="41">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;password&quot;, &quot;must contain at least 5 characters&quot;) if (password.length &lt; 5)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="42">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;email&quot;, &quot;is alrady registered to another account&quot;) if Validation.email_reg?(email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="43">
            <span class="hits">18</span>
            

            

            <code class="ruby">      errors.add(&quot;username&quot;, &quot;is already registered to another account&quot;) if Validation.username_reg?(username)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">       </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="48">
            <span class="hits">25</span>
            

            

            <code class="ruby">        return false if id.nil? # check the id is not nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="49">
            <span class="hits">25</span>
            

            

            <code class="ruby">        return false if Mentor[id].nil? # check the database has a record with this id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="51">
            <span class="hits">25</span>
            

            

            <code class="ruby">        true # all checks are ok - the id exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def get_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="55">
            <span class="hits">15</span>
            

            

            <code class="ruby">       this_mentor = Mentor.first(username:username)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="56">
            <span class="hits">15</span>
            

            

            <code class="ruby">       return this_mentor.id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="344fff55ca2e295b1f9a7f0aa43048f85483bad3">
  <div class="header">
    <h3>models/request.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Request &lt; Sequel::Model</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="0d15905f113e32a9ed6e64ef6d2745f652d90131">
  <div class="header">
    <h3>models/user.rb</h3>
    <h4>
      <span class="yellow">
  89.66%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>29</b> relevant lines.
      <span class="green"><b>26</b> lines covered</span> and
      <span class="red"><b>3</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class User &lt; Sequel::Model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def load(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="115" data-linenumber="3">
            <span class="hits">115</span>
            

            

            <code class="ruby">    self.first_name = params.fetch(&quot;first_name&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="115" data-linenumber="4">
            <span class="hits">115</span>
            

            

            <code class="ruby">    self.surname = params.fetch(&quot;surname&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="115" data-linenumber="5">
            <span class="hits">115</span>
            

            

            <code class="ruby">    self.username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="115" data-linenumber="6">
            <span class="hits">115</span>
            

            

            <code class="ruby">    self.email = params.fetch(&quot;email&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="115" data-linenumber="7">
            <span class="hits">115</span>
            

            

            <code class="ruby">    self.password = params.fetch(&quot;password&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="115" data-linenumber="8">
            <span class="hits">115</span>
            

            

            <code class="ruby">    self.user_type = params.fetch(&quot;user_type&quot;,&quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  #Different param set for editing after sign-up</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def load_edit(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="13">
            <span class="hits">9</span>
            

            

            <code class="ruby">     self.first_name = params.fetch(&quot;first_name&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="14">
            <span class="hits">9</span>
            

            

            <code class="ruby">     self.surname = params.fetch(&quot;surname&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="15">
            <span class="hits">9</span>
            

            

            <code class="ruby">     self.username = params.fetch(&quot;username&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="16">
            <span class="hits">9</span>
            

            

            <code class="ruby">     self.email = params.fetch(&quot;email&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def load_passw_change(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">        self.password = params.fetch(&quot;password&quot;, &quot;&quot;).strip</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def exist?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="73" data-linenumber="25">
            <span class="hits">73</span>
            

            

            <code class="ruby">    other_user = User.first(username: username)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="73" data-linenumber="26">
            <span class="hits">73</span>
            

            

            <code class="ruby">    !other_user.nil? &amp;&amp; other_user.password == password</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def get_type</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="92" data-linenumber="30">
            <span class="hits">92</span>
            

            

            <code class="ruby">     other_user = User.first(username:username)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="92" data-linenumber="31">
            <span class="hits">92</span>
            

            

            <code class="ruby">     return other_user.user_type</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def self.id_exists?(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="35">
            <span class="hits">5</span>
            

            

            <code class="ruby">        return false if id.nil? # check the id is not nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="36">
            <span class="hits">5</span>
            

            

            <code class="ruby">        return false if User[id].nil? # check the database has a record with this id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">        true # all checks are ok - the id exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.username_exists?(username)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">        return false if username.nil? # check the username is not nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">        return false if User[username].nil? # check the database has a record with this username</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">        true # all checks are ok - the username exists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
